{% extends "layouts/page.njk" %}

{% block pageTitle %}{{ pageTitle }} - Defra AI Code Review{% endblock %}

{% block content %}
<div class="govuk-width-container">
  <main class="govuk-main-wrapper" id="main-content" role="main">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <a href="/governance-templates/{{ workflow.governanceTemplateId }}" class="govuk-back-link">Back to template</a>

        {% if error %}
          <div class="govuk-error-summary" role="alert" tabindex="-1">
            <h2 class="govuk-error-summary__title">Error</h2>
            <div class="govuk-error-summary__body">
              <p>{{ error }}</p>
            </div>
          </div>
        {% else %}
          <h1 class="govuk-heading-xl">{{ workflow.name }}</h1>
          
          <dl class="govuk-summary-list">
            {% if workflow.description %}
              <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">Description</dt>
                <dd class="govuk-summary-list__value">{{ workflow.description }}</dd>
              </div>
            {% endif %}
          </dl>

          {% if workflow.checklistItemTemplates and workflow.checklistItemTemplates.length > 0 %}
            <h2 class="govuk-heading-l">Checklist Items</h2>
            <ul class="govuk-list govuk-list--bullet">
              {% for item in workflow.checklistItemTemplates %}
                <li>
                  <h3 class="govuk-heading-m">{{ item.name }}</h3>
                  {% if item.description %}
                    <p class="govuk-body">{{ item.description }}</p>
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="govuk-body">No checklist items defined for this workflow.</p>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </main>
</div>
{% endblock %} 